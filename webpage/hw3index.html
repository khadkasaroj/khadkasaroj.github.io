<!DOCTYPE html>
<html lang="en" >
<head>

  <meta charset="UTF-8" />

  <title>ABC Toys</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

</head>

<body>
	<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.12';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

	<!-- home page-->
  
<div data-role="page" id="home">


	<!--persistent header-->
	<header data-role="header" data-position="fixed" data-id="persistentheader" data-theme="b">
		
		<nav data-role="navbar">
			<ul data-role="listview">
				<li><a href="#home" class="ui-btn ui-btn-active ui-state-persist">home</a></li>
				<li><a href="#contact-us" class="ui-btn ">contact us</a></li>
				<li><a href="#product" class="ui-btn">product</a></li>
				<li><a href="location.html" rel="external" class="ui-btn">location</a></li>
				<li><a href="#service_worker" class="ui-btn">Service Worker API</a></li>
			</ul>
		</nav>
	</header>


	<!-- main content-->
	<div role="main" class="ui-content">
		<h1>ABC Toys</h1>
		<h3>Making learning fun</h3>
  		<p>ABC Toys is a company that opened its doors in 2001 and it has kept its mission for all those years.</p>
		<p>The mission of our company is to create toys that are safe for kindergarten kids but that challenge the kids' mind and motor skills making learning a fun task.</p>
		<p>By the way, parents love our toys too</p>

	</div>
	<footer data-role="footer">
		<p>&copy; Saroj Khadka 2018</p>
	</footer>

</div>



<!-- contact us page -->



<div  data-role="page" id="contact-us" data-title="contact information">

	<header data-role="header" data-position="fixed" data-id="persistentheader" data-theme="b">
		<nav data-role="navbar">
			<ul data-role="listview">
				<li><a href="#home" class="ui-btn" >home</a></li>
				<li><a href="#contact-us" class="ui-btn ui-btn-active ui-state-persist">contact us</a></li>
				<li><a href="#product" class="ui-btn">product</a></li>
				<li><a href="location.html" rel="external" class="ui-btn">location</a></li>
				<li><a href="#service_worker" class="ui-btn ">Service Worker API</a></li>
			</ul>
		</nav>
	</header>

	<div  role="main" class="ui-content">
		
			<div data-role="tabs">
				<div data-role="navbar">
					<ul data-role="listview">
						<li><a href="#callus">call us</a></li>
						<li><a href="#emailus">email</a></li>
						<li><a href="#likeus">like or share</a></li>
					</ul>
				</div>
				
				<div id="callus">
					<p>You can call us <a href="tel:6506531673" class="  ui-btn ui-icon-phone  ui-nodisc-icon ui-alt-icon ui-btn-icon-notext" style="display:inline-block;vertical-align:middle;">phone number </a> and speak to one of wonderful customer service representative</p>
				</div>
				<div id="emailus">
					<p>Go paperless and send us an<a href="mailto:tokhadka.saroj@gmail.com" class=" ui-btn ui-icon-mail ui-btn-icon-notext ui-alt-icon ui-nodisc-icon" style="display:inline-block; vertical-align:middle;"> email</a> to give us feedback </p>
				</div>
		

		
		

				<div id="likeus" class="fb-like" data-width="100" data-layout="button" data-action="like" data-size="large" data-show-faces="false" data-share="true">like us on facebook
				</div>

			</div>
			<br/>
			<br />
			<form action="?" method="post">
				<fieldset>
					<legend> User information:</legend>
						<label for="firstName">firstName:</label>
						<input type="text" id="firstName" name="firstName" placeholder="firstName">
						<label for="lastName">lastName:</label>
						<input type="text" id="lastName" name="lastName" placeholder="lastName"/>
						<label for="email">email:</label>
						<input type="email" id="email" name="email" placeholder="abc@domain.com" required/>
				</fieldset>
				<label for="comments">comments:</label>
				<textarea id="comments" name="comments" maxlength="200">leave us feedback....</textarea>
				
				<div data-role="controlgroup" data-type="horizontal">
				<input type="reset" id="reset" value="reset" class="ui-btn"/>
				<input type="submit" id="submit" value="submit" class="ui-btn"/>
			</div>
			</form>
	</div>
	<footer data-role="footer"> &copy; Saroj khadka </footer>

</div>


<!-- products page -->




<div data-role="page" id="product" data-title="products.html">
	<header data-role="header" data-id="persistenheader" data-position="fixed" data-theme="b">
		<nav data-role="navbar">
			<ul data-role="listview">
				<li><a href="#home" class="ui-btn ui-icon-home">home</a></li>
				<li><a href="#contact-us">contact us</a></li>
				<li><a href="#product" class="ui-btn-active ui-state-persist">product</a></li>
				<li><a href="location.html" rel="external">location</a></li>
				<li><a href="#service_worker" class="ui-btn ">Service Worker API</a></li>
			</ul>
		</nav>
	</header>

	<div  role="main" data-role="content">
		<div data-role="collapsibleset" data-theme="b" data-content-theme="a">
			<h4> Our toys</h4>
				<div data-role="collapsible" data-collapsed-icon="info">
					<h6> LEGO</h6>
						<div class="ui-grid-a ui-content">
							<div class="ui-block-a">
								<img src="../pictures/lego.jpg" alt="lego"  />
							</div>
							<div class="ui-block-b">
								<h5>product description</h5>
								<p> strecth the limits of your imagination with this colorful and flexible set of LEGO(R) bricks that inspire open-ended building play,including bricks with face decoration , special farmyard and dinosaur themed elements and building ideas on the packaging. This set makes a great supplement to any builder's lego collection</p>
							</div>
						</div>
				</div>
				<div data-role="collapsible" data-collapsed-icon="info">
					<h6> NERF N Strike Elite AccuStrike Series AlphaHawk Blaster</h6>
					
						<div class="ui-grid-a ui-content">
							<div class="ui-block-a">
								<img src="../pictures/nerf.png" alt="lego" />
							</div>
							<div class="ui-block-b">
								<h5>product description</h5>
								<p>Kids can strike with confidence as they blast darts designed for accuracy !The NERF N Strike AlphaHawk is part of the AccuStrike Series,which features darts designed for greater accuracy . Hit the mark with the precision of the most accurate NERF darts. The AlphaHawk blaster fires 1 dar at a time from a revolving, easy-load drum that holds up to 5 darts . Take aim and strike like a hawk !Includes 10 Elite foam darts that are designed for greater accuracy</p>
							</div>
						</div>
				</div>
						
				<div data-role="collapsible" data-collapsed-icon="info">
					<h6> Radio Flyer Fold 2 Go Trike -red</h6>
						<div class="ui-grid-a ui-content">
							<div class="ui-block-a">
								<img src="../pictures/bike.png" alt="lego"  />
							</div>
							<div class="ui-block-b">
								<h5>product description</h5>
								<p>The Fold 2 Go(R) Trike offers convenience, comfort and fun!The trike comes fully assembled for instant riding. It folds for easy portability and storage, and has an easy to carry handle grip.The trike also has a safety latch to keep it secure during use. The low center of gravity and controlled turning radius offe stability and the sturdy steel construction and adjustable seat ensure your child will enjoy the trike for years. Plus , it comes with streamers and a fun covered storage bin.For ages 1.5-3 years. Steel frame and adjustable seat grows with your child.Includes streamers and covered storage bin for child fun</p>
							</div>
						</div>
				</div>
						<div data-role="collapsible" data-collapsed-icon="info">
							<h6>LeapFrog LeapStart Pre-k Read and Write Activity Book</h6>
							<div class="ui-grid-a ui-content">
								<div class="ui-block-a">
									<img src="../pictures/leapfrog.jpg" alt="leapfrog"  />
								</div>
								<div class="ui-block-b">
									<h5>product description</h5>
									<p>Dig into early reading and writing skills with this fun-filled , interactive activity book for Leap Start(TM) the interactive learning system designed to get your child ready for school and life. LeapFrog(R) LeapStart(TM) Read and Write with communication skills activity book is jam-packed with 40+ replayable activities that engage kids ages 3-5 at the pre-kindergarten level to keep them playing and learning for hours.</p>
								
								
								
								
								<p>With the LeapStart system, every page talks , sings and jokes with exciting audio interactions that bring learining to life. Explore the wacky world of Doodle Express and "ride" around town in search of letters and words. Help a detective find out who store a missing cat by reading clues and eliminating suspects</p>
								</div>
							</div>
						</div>
						<div data-role="collapsible" data-collapsed-icon="info">
							<h6> Radio Flyer Fold 2 Go Trike -red</h6>
							<div class="ui-grid-a ui-content">
								<div class="ui-block-a">
									<img src="../pictures/monopoly.png" alt="monopoly"   />
								</div>
								<div class="ui-block-b">
									<h5>product description</h5>
									<p>This version of the Monopoly Game welcomes the Rubber Ducky, Tyrannosaurus Rex and Penguin into its family of tokens. Choose your token, place it on Go! and roll the dice to own it all ! There can be only one winner in the Monopoly game. Will it be you?Includes game board, 8 tokens , 28 title deed cards, 16 chance cards, 16 community chest cards, 32 houses, 12 hotels, 2 dice, money pack and instructions. Ages 8 and up . For 2-8 players. The Hasbro Gaming and Monopoly names and logos , the distinctive design of the game board, the four corner squares, and the Mr. Monopoly name and character, as well as each of teh distinctive elements of the board and playing pieces are trademarks of Hasbro</p>
								</div>
							</div>
						</div>
		</div>


</div>

<footer data-role="footer">&copy;Saroj khadka 2018</footer>

</div>

<!---page 4 service worker-->
<div data-role="page" data-title="service worker api" id="service_worker">
	<!--persistent header-->
	<header data-role="header" data-position="fixed" data-id="persistentheader" data-theme="b">
		
		<nav data-role="navbar">
			<ul data-role="listview">
				<li><a href="#home" class="ui-btn">home</a></li>
				<li><a href="#contact-us" class="ui-btn ">contact us</a></li>
				<li><a href="#product" class="ui-btn">product</a></li>
				<li><a href="location.html" rel="external" class="ui-btn">location</a></li>
				<li><a href="#service_worker" class="ui-btn ui-btn-active ui-state-persist  ">Service Worker API</a></li>
			</ul>
		</nav>
	</header>
	<div role="main" class="ui-content">
<h5>Service worker concepts and usage</h5>
<p>
Service workers essentially act as proxy servers that sit between web applications, the browser and the network (when available).They are intended , among other things, to enable the creation of effective offline experience, intercept network request and take appopriate action based on whetere the network is available , and update assets residing on the server. They also allow access to push notifications and background sync APIs.
</p>

<p>A service worker is an event driven workder registered against an origin and a path. It takes the form of a JavaScript file that can control the  web page/site it is associated with, intercepting  and modifying navigation and resource requests, and caching resources.<br/>
	A service worker is run in a worker context, meaning it has no DOM access, and runs on a different thread to the main javaScript.It is designed to be fully async.Service workers only run over HTTPS, for security reasons. 
</p>
<h6>The service worker life cycle </h6>
<p>A service worker has a lifecycle that is completely separate from our web page. To install a service worker for our site, we need to register it, in our page's JavaScript.Registering a service worker will cause the browser to start the service worker install step in the background.</p>
	<code>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}</code>

This code checks to see if the service worker API is availabe and if it is , the service worker at /sw.js is registered
<br />
Typically during the install step, we'll want to cache some static assests.
<br/>

<code>
  var CACHE_NAME="site-cache-v1";
  var urlsToCache=[
'/',
'/styles/main.css',
'/script/main.js'
  ];


	self.addEventListener('install', function(event) {
  // Perform install steps:
  event.waitUntil(
  <ol>
  <li>open a cache
  </li>
  	caches.open(CACHE_NAME)
  	<li>cache our files</li>
  	.then(function(cache){
  	console.log('opened cache');
  })
  	<li>confirm whether all the required assest are cached or not


  	</li>
  return cache.addALL(urlsToCache);})

);
});
</ol>
</code>

<p>
If all the files are cached successfully, then the service worker becomes installed. If any of the files fail to download and cache, then the install step will fail and the service worker won't be installed.If that happens, it'll try again next time.<br />
The above is just one example, we can perform other tasks in the install event or avoid setting an install event listenere altogether.

</p>
<p>After a service worker is installed and the user navigates to a different page or refreshes , the service worker will begin to receive <kbd>fetch</kbd> events, an example of which is below.
	<code>
self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Cache hit - return response
        if (response) {
          return response;
        }
        return fetch(event.request);
      }
    )
  );
});


	</code>
<br/>
Here we've defined our <kbd>fetch </kbd>event and within event.respondWith(), we pass in a promise from <kbd>caches.match()</kbd>This method looks at the request and finds any cached results from any of the caches your service worker created. 
<br /> If we have a matching response , we return the cached value, otherwise we return the result of a call to <kbd>fetch</kbd>, which will make a network request and return the data if anything can be retrieved from the network.<br/>
If we want to cache new requests cumulatively, we can do so by handling the response of the fetch request , and then adding it to the cache, like below.<br/>
<code>
	//Add a callback to <kbd>.then()</kbd> on the <kbd>fetch</kbd>request.
self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)

      .then(function(response) {
        // Cache hit - return response
        //once we get a response, we perform the following checks:
        //ensure the response is valid, check the status is <kbd>200</kbd> on the respone, make sure the respone type is 
        //basic, meaning it's a request from our origin.

        if (response) {
          return response;
        }

        // IMPORTANT: Clone the request. A request is a stream and
        // can only be consumed once. Since we are consuming this
        // once by cache and once by the browser for fetch, we need
        // to clone the response.
        var fetchRequest = event.request.clone();

        return fetch(fetchRequest).then(
          function(response) {
            // Check if we received a valid response
            if(!response || response.status !== 200 || response.type !== 'basic') {
              return response;
            }

            // IMPORTANT: Clone the response. A response is a stream
            // and because we want the browser to consume the response
            // as well as the cache consuming the response, we need
            // to clone it so we have two streams.
            var responseToCache = response.clone();

            caches.open(CACHE_NAME)
              .then(function(cache) {
                cache.put(event.request, responseToCache);
              });

            return response;
          }
        );
      })
    );
});


</code>

</p>




<p>When installed , the activation step will follow  and this is a great opportunity for handling any management of old cache.
The reason we'll want to do this in the <kbd>activate</kbd> callback is because if we were to wipe out any old caches in the install step, any old service worker, which keeps control of all the current pages, will suddently stop being able to serve files from that cache.


</p>
<p>After the activation step, the service worker will control all pages that fall under its scope,though the page that registered the service worker for the first time won't be controlled until it's loaded again. Once a service worker is in control , it will be in one of two states: either the service worker will be terminated to save memory, or it will handle fetch and message events that occur when a network request or message is made from our page . 




<p style="font-size:0.5em;">
Matt Gaunt,"Service Workers:an Introduction",https://developers.google.com/web/fundamentals/primers/service-workers/
</p>


</div>

<footer data-role="footer"> </footer>

</div>



</body>

</html>
